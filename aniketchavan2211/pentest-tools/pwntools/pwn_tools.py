#!/usr/bin/env python3

from pwn import *

# io = process(["nmap", "127.0.0.1"])
# output = io.recvall()
# print(output.decode())

#io = process(["msfconsole", "-q"], stdin=PYT)
#io.recvuntil(b">")
#io.sendline(b"use exploit/multi/handler")
#io.sendline(b"set payload windows/x64/meterpreter/reverse_tcp")
#io.sendline(b"set lport 4444")
#io.sendline(b"set lhost <hostname> ")
#io.interactive()

# REMOTE MACHINE

s1 = ssh(host="127.0.0.1", user="username", password="passwd")

# p1 = s1.shell("zsh") # sh or zsh bash has problem
# p1.interactive()

p2 = s1.process(["nmap", "127.0.0.1"])
out = p2.recvall()
print (out.decode())

